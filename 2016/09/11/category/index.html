<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="null">
    <meta name="keyword" content="null">
    <meta name="theme-color" content="#600090">
    <meta name="msapplication-navbutton-color" content="#600090">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#600090">
    <link rel="shortcut icon" href="http://ocnnxadky.bkt.clouddn.com/16-9-11/77312641.jpg">
    <link rel="alternate" type="application/atom+xml" title="Tsui YuenHong" href="/atom.xml">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.css">
    <title>
        
        Category çš„ä¸€äº›äº‹ï½œTsui YuenHong&#39;s Blog
        
    </title>

    <link rel="canonical" href="http://www.xurunkang.cn/2016/09/11/category/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/blog-style.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">
</head>

<style>

    header.intro-header {
        background-image: url('null')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top " id="nav-top" data-ispost = "true" data-istags="false
" data-ishome = "false" >
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand animated pulse" href="/">
                <span class="brand-logo">
                    Tsui YuenHong
                </span>
                's Blog
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <!-- /.navbar-collapse -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    
                        
                        <li>
                            <a href="/Tags/">Tags</a>
                        </li>
                        
                    

                </ul>
            </div>
        </div>
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
//    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>

<!-- Main Content -->

<!--only post-->


<img class="wechat-title-img" src="http://ocnnxadky.bkt.clouddn.com/16-9-11/335924.jpg">


<style>
    
    header.intro-header {
        background-image: url('http://ocnnxadky.bkt.clouddn.com/16-9-11/335924.jpg');
    }

    
</style>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <div class="post-heading">
                    <h1>Category çš„ä¸€äº›äº‹</h1>
                    
                    <span class="meta">
                         ä½œè€… Tsui YuenHong
                        <span>
                          æ—¥æœŸ 2016-09-11
                         </span>
                    </span>
                    <div class="tags text-center">
                        
                        <a class="tag" href="/Tags/#category"
                           title="category">category</a>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="post-title-haojen">
        <span>
            Category çš„ä¸€äº›äº‹
        </span>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Container -->
            <div class="col-lg-8 col-lg-offset-1 col-sm-9 post-container">
                <h2 id="Category-ç®€ä»‹"><a href="#Category-ç®€ä»‹" class="headerlink" title="Category - ç®€ä»‹"></a>Category - ç®€ä»‹</h2><p>Categoryï¼ˆç±»åˆ«ï¼‰æ˜¯ <code>Objective-C 2.0</code> æ·»åŠ çš„æ–°ç‰¹æ€§ï¼ˆåå¹´å‰çš„æ–°ç‰¹æ€§ ğŸ˜†ï¼‰ã€‚å…¶ä½œç”¨å¯ä»¥æ‰©å±•å·²æœ‰çš„ç±»ï¼Œ è€Œä¸å¿…é€šè¿‡å­ç±»åŒ–å·²æœ‰ç±»ï¼Œç”šè‡³ä¹Ÿä¸å¿…çŸ¥é“å·²æœ‰ç±»çš„æºç ï¼Œè¿˜æœ‰å°±æ˜¯åˆ†æ•£ä»£ç ï¼Œä½¿å·²æœ‰ç±»çš„ä½“ç§¯å¤§å¤§å‡å°‘ï¼Œä¹Ÿåˆ©äºåˆ†å·¥åˆä½œã€‚</p>
<p>åœ¨<a href="http://opensource.apple.com/tarballs/objc4/" target="_blank" rel="external">è‹¹æœå¼€æºé¡¹ç›®</a>ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä¸‹è½½ç›¸å…³çš„æºç æ¥æŸ¥çœ‹ <code>category</code> çš„èµ„æ–™ã€‚</p>
<p>åœ¨ AFNetworking å’Œ SDWebImage ä¸­ä¹Ÿå¤§é‡ç”¨åˆ° <code>category</code> æ¥æ‰©å±•å·²æœ‰ç±»å’Œåˆ†æ•£ä»£ç ã€‚</p>
<p>å…³äº <code>category</code> çš„å®šä¹‰å¯ä»¥åœ¨ <code>objc-runtime-new.h</code> ä¸­æ‰¾åˆ°ã€‚ç”±å…¶å®šä¹‰å¯ä»¥çœ‹å‡º <code>category</code> å¯ä»¥æ­£å¸¸å®ç°åŠŸèƒ½æœ‰ï¼šæ·»åŠ å®ä¾‹æ–¹æ³•ã€ç±»æ–¹æ³•ã€åè®®ã€å®ä¾‹å±æ€§ã€‚( åœ¨åé¢çš„å®è·µä¸­ï¼Œå‘ç°ç±»å±æ€§ä¹Ÿæ˜¯å¯ä»¥æ·»åŠ çš„ )</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">struct category_t &#123;</div><div class="line">    const char *name;</div><div class="line">    classref_t cls;</div><div class="line">    struct method_list_t *instanceMethods;</div><div class="line">    struct method_list_t *classMethods;</div><div class="line">    struct protocol_list_t *protocols;</div><div class="line">    struct property_list_t *instanceProperties;</div><div class="line"></div><div class="line">    method_list_t *methodsForMeta(bool isMeta) &#123;</div><div class="line">        if (isMeta) return classMethods;</div><div class="line">        else return instanceMethods;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    property_list_t *propertiesForMeta(bool isMeta) &#123;</div><div class="line">        if (isMeta) return nil; // classProperties;</div><div class="line">        else return instanceProperties;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>éšä¾¿è¯´ä¸€å¥ï¼Œæœ¬æ–‡å¹¶ä¸ä¸»è¦æ³¨é‡ <code>category</code> çš„å®ç°ç»†èŠ‚å’Œå·¥ä½œåŸç†ã€‚å…³äºç»†èŠ‚çš„æ–¹é¢å¯ä»¥çœ‹ç›¸å…³æ–‡ç«  <a href="http://tech.meituan.com/DiveIntoCategory.html" target="_blank" rel="external">æ·±å…¥ç†è§£Objective-Cï¼šCategory</a> å’Œ <a href="http://www.jianshu.com/p/d66d65314add" target="_blank" rel="external">ç»“åˆ category å·¥ä½œåŸç†åˆ†æ OC2.0 ä¸­çš„ runtime</a> ã€‚</p>
<hr>
<h2 id="Category-èƒ½åšä»€ä¹ˆ"><a href="#Category-èƒ½åšä»€ä¹ˆ" class="headerlink" title="Category - èƒ½åšä»€ä¹ˆ"></a>Category - èƒ½åšä»€ä¹ˆ</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ¥åˆ›å»ºä¸€ä¸ª <code>Person</code> ç±»ä»¥åŠ <code>Person</code> ç±»çš„ categoryï¼Œå¯ä»¥çœ‹å¾—å‡º category çš„æ–‡ä»¶åå°±æ˜¯ <code>å·²æœ‰ç±»å+è‡ªå®šä¹‰å</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// Person.h</div><div class="line">@interface Person : NSObject</div><div class="line"></div><div class="line">@property (nonatomic, copy) NSString *name;</div><div class="line"></div><div class="line">+ (void)run;</div><div class="line">- (void)talk;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// Person.m</div><div class="line">@implementation Person</div><div class="line"></div><div class="line">// åŸå®ä¾‹æ–¹æ³•</div><div class="line">- (void)talk&#123;</div><div class="line">    NSLog(@&quot;\næˆ‘æ˜¯åŸå®ä¾‹æ–¹æ³•\næˆ‘æ˜¯%@&quot;,self.name);</div><div class="line">&#125;</div><div class="line"></div><div class="line">// åŸç±»æ–¹æ³•</div><div class="line">+ (void)run&#123;</div><div class="line">    NSLog(@&quot;\næˆ‘æ˜¯åŸç±»æ–¹æ³•\næˆ‘æ˜¯è·‘å¾—å¾ˆå¿«çš„çš„é¦™æ¸¯è®°è€…&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// Person+OtherSkills.h</div><div class="line">@interface Person (OtherSkills)&#123;</div><div class="line">    //âš ï¸ instance variables may not be placed in categories</div><div class="line">    //int i;</div><div class="line">    //NSString *str;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// æ·»åŠ å®ä¾‹å±æ€§</div><div class="line">@property (nonatomic, copy) NSString *otherName;</div><div class="line">// æ·»åŠ ç±»å±æ€§</div><div class="line">@property (class, nonatomic, copy) NSString *clsStr;</div><div class="line"></div><div class="line">// é‡å†™å·²æœ‰ç±»æ–¹æ³•</div><div class="line">+ (void)run;</div><div class="line">- (void)talk;</div><div class="line"></div><div class="line">// ä¸ºå·²æœ‰ç±»æ·»åŠ æ–¹æ³•</div><div class="line">- (void)logInstProp;</div><div class="line">+ (void)logClsProp;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// Person+OtherSkills.m</div><div class="line">static NSString *_clsStr = nil;</div><div class="line">static NSString *_otherName = nil;</div><div class="line"></div><div class="line">@implementation Person (OtherSkills)</div><div class="line"></div><div class="line">@dynamic otherName;</div><div class="line"></div><div class="line">// é‡å†™ç±»æ–¹æ³•</div><div class="line">+ (void)run&#123;</div><div class="line">    // è­¦å‘Šâš ï¸ Category is implementing a method which will also be implemented by its primary class</div><div class="line">    NSLog(@&quot;\næˆ‘æ˜¯é‡å†™æ–¹æ³•\næˆ‘æ˜¯è·‘å¾—å¾ˆå¿«çš„çš„é¦™æ¸¯è®°è€…&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">// é‡å†™å®ä¾‹æ–¹æ³•</div><div class="line">- (void)talk&#123;</div><div class="line">    // è­¦å‘Šâš ï¸ Category is implementing a method which will also be implemented by its primary class</div><div class="line">    NSLog(@&quot;\næˆ‘æ˜¯é‡å†™æ–¹æ³•\næˆ‘æ˜¯ä¼šè°ˆç¬‘é£ç”Ÿçš„%@&quot;,self.otherName);</div><div class="line">&#125;</div><div class="line"></div><div class="line">// è¾“å‡ºå®ä¾‹å±æ€§</div><div class="line">- (void)logInstProp&#123;</div><div class="line">    NSLog(@&quot;\nè¾“å‡ºå®ä¾‹å±æ€§\næˆ‘æ˜¯ä¼šè°ˆç¬‘é£ç”Ÿçš„%@&quot;,self.otherName);</div><div class="line">&#125;</div><div class="line"></div><div class="line">// è¾“å‡ºç±»å±æ€§</div><div class="line">+ (void)logClsProp&#123;</div><div class="line">    NSLog(@&quot;\nè¾“å‡ºç±»å±æ€§\næˆ‘æ˜¯ä¼šè°ˆç¬‘é£ç”Ÿçš„%@&quot;,self.clsStr);</div><div class="line">&#125;</div><div class="line"></div><div class="line">+ (NSString *)clsStr&#123;</div><div class="line">    return _clsStr;</div><div class="line">&#125;</div><div class="line"></div><div class="line">+ (void)setClsStr:(NSString *)clsStr&#123;</div><div class="line">    _clsStr = clsStr;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (NSString *)otherName&#123;</div><div class="line">    return _otherName;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)setOtherName:(NSString *)otherName&#123;</div><div class="line">    _otherName = otherName;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åˆ›å»ºå®Œä»£ç ä¹‹åï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹ <code>category</code> åˆ°åº•èƒ½å¹²ä»€ä¹ˆã€‚</p>
<p>é¡ºä¾¿ä¸€æï¼Œæˆ‘æ˜¯åœ¨ç½‘ä¸Šçœ‹åˆ°å¾ˆå¤šæ–‡ç« è¯´ <code>category</code> ä¸èƒ½æ·»åŠ å±æ€§ï¼Œè¿™æ˜¯è¯´æ³•æ˜¯ä¸å¯¹çš„ï¼Œå¦‚ <code>Person+OtherSkills.h</code> ä¸­å°±æ·»åŠ äº†ä¸€ä¸ª <code>otherName</code> çš„å±æ€§ã€‚æ­£ç¡®çš„è¯´æ³•åº”è¯¥æ˜¯ <code>category</code> ä¸èƒ½æ·»åŠ å®ä¾‹å˜é‡ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ <code>instance variables may not be placed in categories</code>ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œå› ä¸º category ä¸èƒ½æ·»åŠ å®ä¾‹å˜é‡ï¼Œä¹Ÿä¼šå¯¼è‡´å±æ€§çš„ <code>setter &amp; getter</code> æ–¹æ³•ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚ï¼ˆ å½“ç„¶ï¼Œå¯ä»¥åˆ©ç”¨ <code>Runtime</code> ä¸º <code>category</code> åŠ¨æ€å…³è”å±æ€§ï¼Œæœ€åä¼šä»‹ç»ä¸¤ç§ä½¿ <code>category</code> å±æ€§æ­£å¸¸å·¥ä½œçš„æ–¹æ³•ï¼‰</p>
<h4 id="category-å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ å®ä¾‹å±æ€§ã€‚"><a href="#category-å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ å®ä¾‹å±æ€§ã€‚" class="headerlink" title="category å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ å®ä¾‹å±æ€§ã€‚"></a>category å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ å®ä¾‹å±æ€§ã€‚</h4><p>å¦‚ <code>Person+OtherSkills.h</code> ä¸­å°±æ·»åŠ äº†ä¸€ä¸ª <code>otherName</code> çš„å±æ€§ã€‚å¯ä»¥å‡ºæ¥èƒ½æ­£å¸¸å·¥ä½œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// è¿è¡Œä»£ç </div><div class="line">Person *p1 = [[Person alloc] init];</div><div class="line"></div><div class="line">// å®ä¾‹å±æ€§</div><div class="line">p1.otherName = @&quot;å°èŠ±&quot;;</div><div class="line">[p1 logInstProp];</div><div class="line"></div><div class="line">p1.otherName = @&quot;å°æ˜&quot;;</div><div class="line">[p1 logInstProp];</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// è¾“å‡ºç»“æœ</div><div class="line">2016-09-11 09:45:09.935 category[37281:1509791]</div><div class="line">è¾“å‡ºå®ä¾‹å±æ€§</div><div class="line">æˆ‘æ˜¯ä¼šè°ˆç¬‘é£ç”Ÿçš„å°èŠ±</div><div class="line">2016-09-11 09:45:09.936 category[37281:1509791]</div><div class="line">è¾“å‡ºå®ä¾‹å±æ€§</div><div class="line">æˆ‘æ˜¯ä¼šè°ˆç¬‘é£ç”Ÿçš„å°æ˜</div></pre></td></tr></table></figure>
<h4 id="category-å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ ç±»å±æ€§ã€‚"><a href="#category-å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ ç±»å±æ€§ã€‚" class="headerlink" title="category å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ ç±»å±æ€§ã€‚"></a>category å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ ç±»å±æ€§ã€‚</h4><p>è™½ç„¶ï¼Œ<code>category_t</code> ä¸­æ˜¯æ²¡æœ‰å®šä¹‰ <code>clssProperties</code>ï¼Œä½†æ˜¯æ ¹æ®å®é™…æ“ä½œå´æ˜¾ç¤º category çš„ç¡®å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ ç±»å±æ€§å¹¶ä¸”æˆåŠŸæ‰§è¡Œã€‚<del>æˆ‘ä¸ªäººè§‰å¾—æ˜¯éƒ¨åˆ†æºç æ²¡æœ‰æ›´æ–°æˆ–è€…éšè—äº†ğŸ˜ï¼Œå¦‚æœæœ‰çŸ¥é“åŸå› çš„åŒå­¦å¯ä»¥è¯´ä¸€ä¸‹</del></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// è¿è¡Œä»£ç </div><div class="line">Person.clsStr = @&quot;å°ä¸œ&quot;;</div><div class="line">[Person logClsProp];</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// è¾“å‡ºç»“æœ</div><div class="line">2016-09-11 09:45:09.936 category[37281:1509791]</div><div class="line">è¾“å‡ºç±»å±æ€§</div><div class="line">æˆ‘æ˜¯ä¼šè°ˆç¬‘é£ç”Ÿçš„å°ä¸œ</div></pre></td></tr></table></figure>
<h4 id="category-å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•ã€‚"><a href="#category-å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•ã€‚" class="headerlink" title="category å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•ã€‚"></a>category å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•ã€‚</h4><p>åœ¨ä¸Šé¢çš„ä¸¤ä¸ªä¾‹å­ä¸­å·²ç»ä½“ç°äº† <code>category</code> å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•ã€‚è¿™é‡Œå°†è®¨è®ºåŠ å…¥ <code>category</code> é‡å†™äº†å·²æœ‰ç±»çš„æ–¹æ³•ä¼šæ€ä¹ˆæ ·ï¼Œåœ¨åˆ›å»ºçš„ä»£ç ä¸­æˆ‘ä»¬å·²ç»é‡å†™äº† <code>run</code> å’Œ <code>talk</code> æ–¹æ³•ï¼Œé‚£è¿™æ—¶æˆ‘ä»¬æ¥è°ƒç”¨çœ‹çœ‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// è¿è¡Œä»£ç </div><div class="line">// è°ƒç”¨ç±»æ–¹æ³•</div><div class="line">[Person run];</div><div class="line">// è°ƒç”¨å®ä¾‹æ–¹æ³•    </div><div class="line">Person *p1 = [[Person alloc] init];</div><div class="line">[p1 talk];</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// è¾“å‡ºç»“æœ</div><div class="line">2016-09-11 11:22:05.817 category[37733:1562534]</div><div class="line">æˆ‘æ˜¯é‡å†™æ–¹æ³•</div><div class="line">æˆ‘æ˜¯è·‘å¾—å¾ˆå¿«çš„çš„é¦™æ¸¯è®°è€…</div><div class="line">2016-09-11 11:22:05.817 category[37733:1562534]</div><div class="line">æˆ‘æ˜¯é‡å†™æ–¹æ³•</div><div class="line">æˆ‘æ˜¯ä¼šè°ˆç¬‘é£ç”Ÿçš„(null)</div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹å¾—å‡ºæ¥ï¼Œè¿™æ—¶å€™æ— è®ºæ˜¯å·²æœ‰ç±»ä¸­çš„ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•éƒ½å¯ä»¥è¢« <code>category</code> æ›¿æ¢åˆ°å…¶ä¸­çš„é‡å†™æ–¹æ³•ï¼Œå³ä½¿æˆ‘ç°åœ¨æ˜¯æ²¡æœ‰å¯¼å…¥ <code>Person+OtherSkills.h</code> ã€‚è¿™å°±å¸¦æ¥ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ï¼Œå¦‚æœåœ¨ category ä¸­ä¸å°å¿ƒé‡å†™äº†å·²æœ‰ç±»çš„æ–¹æ³•å°†å¯¼è‡´åŸæ–¹æ³•æ— æ³•æ­£å¸¸æ‰§è¡Œã€‚æ‰€ä»¥ä½¿ç”¨ <code>category</code> æ·»åŠ æ–¹æ³•æ—¶å€™è¯·æ³¨æ„æ˜¯å¦å’Œå·²æœ‰ç±»é‡åäº†ï¼Œæ­£å¦‚ <code>ã€Š Effective Objective-C 2.0 ã€‹</code> ä¸­çš„ç¬¬ 25 æ¡æ‰€å»ºè®®çš„ï¼š</p>
<blockquote>
<p>åœ¨ç»™ç¬¬ä¸‰æ–¹ç±»æ·»åŠ  category æ—¶æ·»åŠ æ–¹æ³•æ—¶è®°å¾—åŠ ä¸Šä½ çš„ä¸“æœ‰å‰ç¼€</p>
</blockquote>
<p>ç„¶è€Œï¼Œå› ä¸º category é‡å†™æ–¹æ³•æ˜¯å¹¶ä¸æ˜¯æ›¿æ¢æ‰åŸæ–¹æ³•ï¼Œè€Œæ˜¯å¾€å·²æœ‰ç±»ä¸­ç»§ç»­æ·»åŠ æ–¹æ³•ï¼Œæ‰€ä»¥è¿˜æ˜¯æœ‰æœºä¼šå»è°ƒç”¨åˆ°åŸæ–¹æ³•ã€‚è¿™é‡Œåˆ©ç”¨ <code>class_copyMethodList</code> è·å– <code>Person</code> ç±»çš„å…¨éƒ¨ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// è·å– Person çš„æ–¹æ³•åˆ—è¡¨</div><div class="line">unsigned int personMCount;</div><div class="line">// è·å–å®ä¾‹æ–¹æ³•</div><div class="line">//Method *personMList = class_copyMethodList([Person class], &amp;personMCount);</div><div class="line">// è·å–ç±»æ–¹æ³•</div><div class="line">Method *personMList = class_copyMethodList(object_getClass([Person class]), &amp;personMCount);</div><div class="line">NSMutableArray *mArr = [NSMutableArray array];</div><div class="line"></div><div class="line">// è¿™é‡Œæ˜¯å€’åºè·å–ï¼Œæ‰€ä»¥ mArr ç¬¬ä¸€ä¸ªæ–¹æ³•å¯¹åº”çš„æ˜¯ Person ç±»ä¸­æœ€åä¸€ä¸ªæ–¹æ³•</div><div class="line">for (int i = personMCount - 1; i &gt;= 0; i--) &#123;</div><div class="line"></div><div class="line">   SEL sel = NULL;</div><div class="line">   IMP imp = NULL;</div><div class="line"></div><div class="line">   Method method = personMList[i];</div><div class="line">   NSString *methodName = [NSString stringWithCString:sel_getName(method_getName(method))</div><div class="line">                                             encoding:NSUTF8StringEncoding];</div><div class="line">   [mArr addObject:methodName];</div><div class="line"></div><div class="line">   if ([@&quot;run&quot; isEqualToString:methodName]) &#123;</div><div class="line">       imp = method_getImplementation(method);</div><div class="line">       sel = method_getName(method);</div><div class="line">       ((void (*)(id, SEL))imp)(p1, sel); // è¿™é‡Œçš„ sel æœ‰ä»€ä¹ˆç”¨å‘¢ ?!</div><div class="line">       //break;</div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">free(personMList);</div></pre></td></tr></table></figure>
<p>å…¶ä¸­è¾“å‡ºçš„ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•åˆ†åˆ«å¦‚ä¸‹ï¼Œæ˜¾ç¤ºåŸæ–¹æ³•çš„ç¡®å¯ä»¥è¢«è°ƒç”¨ã€‚<br>ä¸è¿‡æˆ‘è¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼Œä½¿ç”¨ imp æ—¶ç¬¬äºŒä¸ªå‚æ•° sel åˆ°åº•æœ‰ä»€ä¹ˆç”¨å‘¢?</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">2016-09-11 11:52:44.795 category[37893:1582677]</div><div class="line">æˆ‘æ˜¯åŸç±»æ–¹æ³•</div><div class="line">æˆ‘æ˜¯è·‘å¾—å¾ˆå¿«çš„çš„é¦™æ¸¯è®°è€…</div><div class="line">2016-09-11 11:52:44.796 category[37893:1582677]</div><div class="line">æˆ‘æ˜¯é‡å†™æ–¹æ³•</div><div class="line">æˆ‘æ˜¯è·‘å¾—å¾ˆå¿«çš„çš„é¦™æ¸¯è®°è€…</div><div class="line">2016-09-11 11:52:44.796 category[37893:1582677] (</div><div class="line">    run, // åŸæ–¹æ³•</div><div class="line">    run, // é‡å†™æ–¹æ³•</div><div class="line">    &quot;setClsStr:&quot;,</div><div class="line">    logClsProp,</div><div class="line">    clsStr</div><div class="line">)</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">2016-09-11 11:54:14.545 category[37927:1584029]</div><div class="line">æˆ‘æ˜¯åŸå®ä¾‹æ–¹æ³•</div><div class="line">æˆ‘æ˜¯(null)</div><div class="line">2016-09-11 11:54:14.545 category[37927:1584029]</div><div class="line">æˆ‘æ˜¯é‡å†™æ–¹æ³•</div><div class="line">æˆ‘æ˜¯ä¼šè°ˆç¬‘é£ç”Ÿçš„(null)</div><div class="line">2016-09-11 11:54:14.545 category[37927:1584029] (</div><div class="line">    &quot;setName:&quot;,</div><div class="line">    name,</div><div class="line">    &quot;.cxx_destruct&quot;,</div><div class="line">    &quot;setOtherName:&quot;,</div><div class="line">    logInstProp,</div><div class="line">    tanxiaofengsheng,</div><div class="line">    otherName,</div><div class="line">    talk, //åŸæ–¹æ³•</div><div class="line">    talk  //é‡å†™æ–¹æ³•</div></pre></td></tr></table></figure>
<hr>
<h4 id="category-å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ åè®®ã€‚"><a href="#category-å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ åè®®ã€‚" class="headerlink" title="category å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ åè®®ã€‚"></a>category å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ åè®®ã€‚</h4><p>è¿™é‡Œå…ˆæ·»åŠ ä¸€ä¸ªæ–°çš„ categoryï¼Œè´Ÿè´£å¤„ç†ä»–è°ˆç¬‘é£ç”Ÿçš„è¡Œä¸ºï¼Œå’Œå†™ä¸ªåè®®è®©ä»–ä¸Šç”µè§†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// Person+Delegate.h</div><div class="line">#import &quot;Person.h&quot;</div><div class="line"></div><div class="line">// æ·»åŠ åè®®</div><div class="line">@protocol PersonDelegate &lt;NSObject&gt;</div><div class="line"></div><div class="line">- (void)showInTV;</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@interface Person (Delegate)</div><div class="line"></div><div class="line">// æ·»åŠ  delegate</div><div class="line">@property (nonatomic, weak) id&lt;PersonDelegate&gt; delegate;</div><div class="line"></div><div class="line">- (void)tanxiaofengsheng;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// Person+Delegate.m</div><div class="line">#import &quot;Person+Delegate.h&quot;</div><div class="line">#import &lt;objc/runtime.h&gt;</div><div class="line"></div><div class="line">@implementation Person (Delegate)</div><div class="line"></div><div class="line">- (id&lt;PersonDelegate&gt;)delegate&#123;</div><div class="line">    return objc_getAssociatedObject(self, @selector(delegate));</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)setDelegate:(id&lt;PersonDelegate&gt;)delegate&#123;</div><div class="line">    objc_setAssociatedObject(self, @selector(delegate), delegate, OBJC_ASSOCIATION_ASSIGN);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)tanxiaofengsheng&#123;</div><div class="line">    for (int i = 0 ; i &lt; 10; i ++) &#123;</div><div class="line">        NSLog(@&quot;è°ˆç¬‘é£ç”Ÿ...&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    // è°ˆç¬‘é£ç”Ÿå®Œå°±è¦ä¸Šç”µè§†äº†</div><div class="line">    if ([self.delegate respondsToSelector:@selector(showInTV)]) &#123;</div><div class="line">        [self.delegate showInTV];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<p>åœ¨ç›¸åº”çš„ä»£ç†é‡Œé¢æ·»åŠ  <code>showInTV</code> çš„æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// è¿è¡Œä»£ç </div><div class="line">Person *p1 = [[Person alloc] init];</div><div class="line">p1.delegate = self;</div><div class="line"></div><div class="line">// å¼€å§‹è°ˆç¬‘é£ç”Ÿäº†</div><div class="line">[p1 tanxiaofengsheng];</div><div class="line"></div><div class="line">// ShowInTV æ–¹æ³•çš„å®ç°</div><div class="line">- (void)showInTV&#123;</div><div class="line">    UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(100, 100, 150, 150)];</div><div class="line">    imageView.image = [UIImage imageNamed:@&quot;naive.jpg&quot;];</div><div class="line">    [self.view addSubview:imageView];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™æ ·å°±åˆ©ç”¨ <code>category</code> ä¸ºå·²æœ‰ç±»æ·»åŠ äº†åè®®ã€‚</p>
<p>å…³äº <code>category</code> çš„åŸºæœ¬åº”ç”¨å°±ä»‹ç»åˆ°è¿™é‡Œäº†ã€‚ä¸‹é¢å°±æ¥åˆ†äº«ä¸€ä¸‹ <code>category</code> çš„å®è·µä¸­çš„ä½¿ç”¨ã€‚</p>
<hr>
<h2 id="Category-å®è·µ"><a href="#Category-å®è·µ" class="headerlink" title="Category - å®è·µ"></a>Category - å®è·µ</h2><h4 id="UIButton-å®ç°ç‚¹å‡»äº‹ä»¶å¯ä»¥â€œä¼ å‚â€ã€‚"><a href="#UIButton-å®ç°ç‚¹å‡»äº‹ä»¶å¯ä»¥â€œä¼ å‚â€ã€‚" class="headerlink" title="UIButton å®ç°ç‚¹å‡»äº‹ä»¶å¯ä»¥â€œä¼ å‚â€ã€‚"></a>UIButton å®ç°ç‚¹å‡»äº‹ä»¶å¯ä»¥â€œä¼ å‚â€ã€‚</h4><p>ä¸€èˆ¬åˆ›å»º<code>UIButton</code>çš„æ—¶å€™éƒ½ä¼šä½¿ç”¨ <code>addTarget ...</code>è¿™ä¸ªæ–¹æ³•æ¥ä¸º<code>button</code>æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œä¸è¿‡è¿™ä¸ªæ–¹æ³•æœ‰ä¸ªä¸å¥½çš„åœ°æ–¹å°±æ˜¯æ— æ³•ä¼ è‡ªå·±æƒ³è¦çš„å‚æ•°ã€‚ä¾‹å¦‚ä¸‹é¢ä»£ç ä¸­å£°æ˜äº†<code>str</code>ï¼Œæˆ‘çš„æ„å›¾æ˜¯ç‚¹å‡»<code>button</code>å°±ä½¿æ§åˆ¶å°æˆ–è€…å±å¹•æ˜¾ç¤º<code>str</code>çš„å†…å®¹ã€‚å¦‚æœæŒ‰ç…§è¿™æ ·æ¥å†™çš„æˆ‘æƒ³åˆ°çš„è§£å†³åŠæ³•å°±æ˜¯å°†<code>str</code>è®¾ç½®ä¸ºå±æ€§æˆ–è€…æˆå‘˜å˜é‡ï¼Œä¸è¿‡è¿™æ ·éƒ½æ˜¯æ¯”è¾ƒéº»çƒ¦è€Œä¸”ä¸ç›´è§‚çš„ï¼ˆä»£ç åˆ†æ•£ï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">NSString *str = @&quot;hi&quot;;</div><div class="line">UIButton *button = [[UIButton alloc] initWithFrame:CGRectMake(100, 250, 150, 100)];</div><div class="line">button.backgroundColor = [UIColor redColor];</div><div class="line">[button addTarget:self action:@selector(click:) forControlEvents:UIControlEventTouchDown];</div><div class="line">[self.view addSubview:button];</div><div class="line"></div><div class="line">// ç‚¹å‡»äº‹ä»¶</div><div class="line">- (void)click:(UIButton *)button&#123;</div><div class="line">    ...    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æˆ‘æƒ³åˆ°è¾ƒå¥½çš„è§£å†³åŠæ³•åº”è¯¥åœ¨åˆ›å»º<code>button</code>ï¼Œå°±ä¸ºå®ƒè®¾ç½®å…·ä½“çš„ç‚¹å‡»å“åº”äº‹ä»¶ã€‚å®ç°æ–¹æ³•å°±æ˜¯ä¸º <code>UIButton</code> æ·»åŠ  <code>block</code> å±æ€§æˆ–è€…æ·»åŠ å¯ä¼ å…¥ <code>block</code> çš„æ–¹æ³•ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// UIButton+Category.h</div><div class="line">#import &lt;UIKit/UIKit.h&gt;</div><div class="line"></div><div class="line">typedef void(^ActionHandlerBlock)(void);</div><div class="line"></div><div class="line">@interface UIButton (Category)</div><div class="line"></div><div class="line">// ç‚¹å‡»å“åº”çš„ block</div><div class="line">@property (nonatomic, copy) ActionHandlerBlock actionHandlerBlock;</div><div class="line"></div><div class="line">// è®¾ç½® UIButton çš„ç‚¹å‡»äº‹ä»¶</div><div class="line">- (void)kk_addActionHandler: (ActionHandlerBlock )actionHandlerBlock ForControlEvents:(UIControlEvents )controlEvents;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// UIButton+Category.m</div><div class="line">#import &quot;UIButton+Category.h&quot;</div><div class="line">#import &lt;objc/runtime.h&gt;</div><div class="line"></div><div class="line">static const void *kk_actionHandlerBlock = &amp;kk_actionHandlerBlock;</div><div class="line"></div><div class="line">@implementation UIButton (Category)</div><div class="line"></div><div class="line">- (void)kk_addActionHandler:(ActionHandlerBlock)actionHandler ForControlEvents:(UIControlEvents)controlEvents&#123;</div><div class="line"></div><div class="line">    // å…³è” actionHandler</div><div class="line">    objc_setAssociatedObject(self, kk_actionHandlerBlock, actionHandler, OBJC_ASSOCIATION_COPY_NONATOMIC);</div><div class="line"></div><div class="line">    // è®¾ç½®ç‚¹å‡»äº‹ä»¶</div><div class="line">    [self addTarget:self action:@selector(handleAction) forControlEvents:controlEvents];</div><div class="line">&#125;</div><div class="line"></div><div class="line">// å¤„ç†ç‚¹å‡»äº‹ä»¶</div><div class="line">- (void)handleAction&#123;</div><div class="line"></div><div class="line">    ActionHandlerBlock actionHandlerBlock = objc_getAssociatedObject(self, kk_actionHandlerBlock);</div><div class="line"></div><div class="line">    if (actionHandlerBlock) &#123;</div><div class="line">        actionHandlerBlock();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (ActionHandlerBlock)actionHandlerBlock&#123;</div><div class="line">    return objc_getAssociatedObject(self, @selector(actionHandlerBlock));</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)setActionHandlerBlock:(ActionHandlerBlock)actionHandlerBlock&#123;</div><div class="line">    objc_setAssociatedObject(self, @selector(actionHandlerBlock), actionHandlerBlock, OBJC_ASSOCIATION_COPY_NONATOMIC);</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<p>é‚£ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹è°ƒç”¨çš„ç»“æœï¼Œä¾‹å¦‚æˆ‘ç°åœ¨æƒ³è¦çš„ç‚¹å‡»äº‹ä»¶æ˜¯ button é¢œè‰²éšæœºå˜æ¢ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"></div><div class="line">UIButton *button = [[UIButton alloc] initWithFrame:CGRectMake(100, 250, 150, 100)];</div><div class="line">button.backgroundColor = [UIColor redColor];</div><div class="line">[self.view addSubview:button];</div><div class="line"></div><div class="line">// 1. é€šè¿‡å®ä¾‹æ–¹æ³•ä¼ å…¥ block æ¥ä¿®æ”¹  </div><div class="line">UIButton *button2 = [[UIButton alloc] initWithFrame:CGRectMake(100, 400, 150, 100)];</div><div class="line">button2.backgroundColor = [UIColor redColor];</div><div class="line">[button2 kk_addActionHandler:^&#123;</div><div class="line">   button.backgroundColor = [UIColor colorWithRed:arc4random_uniform(256) / 255.0 green:arc4random_uniform(256) / 255.0 blue:arc4random_uniform(256) / 255.0 alpha:1.0];</div><div class="line">&#125; ForControlEvents:UIControlEventTouchDown];</div><div class="line">[self.view addSubview:button2];</div><div class="line"></div><div class="line">// 2. é€šè¿‡ä¿®æ”¹ block å±æ€§æ¥ä¿®æ”¹</div><div class="line">UIButton *button3 = [[UIButton alloc] initWithFrame:CGRectMake(100, 550, 150, 100)];</div><div class="line">button3.backgroundColor = [UIColor redColor];</div><div class="line">button3.actionHandlerBlock = ^&#123;</div><div class="line">   button.backgroundColor = [UIColor colorWithRed:arc4random_uniform(256) / 255.0 green:arc4random_uniform(256) / 255.0 blue:arc4random_uniform(256) / 255.0 alpha:1.0];</div><div class="line">&#125;;</div><div class="line">[button3 addTarget:self action:@selector(click:) forControlEvents:UIControlEventTouchUpInside];</div><div class="line">[self.view addSubview:button3];</div><div class="line"></div><div class="line"></div><div class="line">// å“åº”äº‹ä»¶</div><div class="line">- (void)click:(UIButton *)button&#123;</div><div class="line">    if (button.actionHandlerBlock) &#123;</div><div class="line">        button.actionHandlerBlock();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="http://ocnnxadky.bkt.clouddn.com/16-9-11/60068504.jpg" alt="å®ç°æ•ˆæœå›¾"></p>
<p>æ˜¾ç„¶ï¼Œæ–¹æ³•1å’Œæ–¹æ³•2åœ¨è¿™ä¸ªä¾‹å­ä¸­å®ç°çš„æ•ˆæœæ˜¯ç›¸åŒçš„ã€‚ä¸è¿‡ï¼Œåœ¨ä¸åŒåœºåˆè¿™ä¸¤ä¸ªæ–¹æ³•é€‚ç”¨çš„èŒƒå›´ä¹Ÿä¸åŒã€‚</p>
<ol>
<li>ç›´æ¥è°ƒç”¨å®ä¾‹æ–¹æ³•ä¼ å…¥ <code>block</code> ä¼šä½¿ä»£ç æ›´åŠ ç®€æ´å’Œé›†ä¸­ï¼Œä½†ä¸é€‚åˆ <code>block</code> éœ€è¦ä¼ å€¼çš„æƒ…æ™¯ã€‚</li>
<li>ç›¸åï¼Œè®¾ç½® <code>block</code> å±æ€§è¦åœ¨ <code>@selector()</code> ä¸­çš„æ–¹æ³•ä¸­è°ƒç”¨ <code>block</code>ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œä¸è¿‡åœ¨éœ€è¦çš„æƒ…å†µä¸‹å¯ä»¥ä¼ å…¥åˆé€‚çš„å‚æ•°ã€‚</li>
</ol>
<p>p.s. ä»¥åä¼šç»§ç»­è¡¥å®è·µéƒ¨åˆ†ã€‚</p>
<p>æœ€åè¯´ä¸€ä¸‹ï¼Œä¸¤ç§ä½¿ <code>category</code> å±æ€§æ­£å¸¸å·¥ä½œçš„æ–¹æ³•ï¼š</p>
<ol>
<li>å› ä¸º <code>category</code> ä¸èƒ½åˆ›å»ºå®ä¾‹å˜é‡ï¼Œé‚£å°±ç›´æ¥ä½¿ç”¨é™æ€å˜é‡ï¼Œå¦‚æœ€å¼€å§‹ä¸º <code>ohterName</code> å’Œ<code>clsStr</code> å±æ€§è®¾ç½® <code>setter &amp; getter</code>çš„åšæ³•ã€‚</li>
<li><p>ä½¿ç”¨<code>objc_setAssociatedObject</code>ï¼Œå…¶ä¸­ <code>key</code> çš„é€‰æ‹©æœ‰ä»¥ä¸‹å‡ ç§ï¼Œä¸ªäººæ¯”è¾ƒå–œæ¬¢ç¬¬å››ç§ã€‚</p>
<ul>
<li><code>static char *key1;</code> // SDWebImage &amp; AFNetworking ä¸­çš„åšæ³•ï¼Œæ¯”è¾ƒç®€å•ï¼Œè€Œä¸” &amp;key1 è‚¯å®šå”¯ä¸€ã€‚key å– &amp;key1</li>
<li><code>static const char * const key2 = &quot;key2&quot;;</code> // ç½‘ä¸Šçœ‹åˆ°çš„åšæ³•ï¼ŒæŒ‡é’ˆä¸å¯å˜ï¼ŒæŒ‡å‘å†…å®¹ä¸å¯å˜ï¼Œä½†æ˜¯è¿™ç§æƒ…å†µå¿…é¡»åœ¨èµ‹å€¼ç¡®ä¿ key2 æŒ‡å‘å†…å®¹çš„å€¼æ˜¯å”¯ä¸€ã€‚key å– key2ã€‚</li>
<li><code>static const void *key3 = &amp;key3;</code> // æœ€å–å·§çš„æ–¹æ³•ï¼ŒæŒ‡å‘è‡ªå·±æ˜¯ä¸ºäº†ä¸åˆ›å»ºé¢å¤–ç©ºé—´ï¼Œè€Œ const ä¿®é¥°å¯ä»¥ç¡®ä¿æ— æ³•ä¿®æ”¹ key3 æŒ‡å‘çš„å†…å®¹ã€‚key å– key3ã€‚</li>
<li>key å– <code>@selector(å±æ€§å)</code>ï¼Œæœ€æ–¹ä¾¿ï¼Œè¾“å…¥æœ‰æç¤ºï¼Œåªè¦ä½ ç¡®ä¿å±æ€§åæ·»åŠ ä¸Šåˆé€‚çš„å‰ç¼€å°±ä¸ä¼šå‡ºé—®é¢˜ã€‚</li>
</ul>
</li>
</ol>
<p><br></p>
<div class="text" style=" text-align:center;">æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ•¬è¯·æŒ‡å‡ºã€‚</div>

                <hr>
                

                <ul class="pager">
                    
                    
                </ul>

                

                

            </div>

            <div class="hidden-xs col-sm-3 toc-col">
                <div class="toc-wrap">
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Category-ç®€ä»‹"><span class="toc-text">Category - ç®€ä»‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Category-èƒ½åšä»€ä¹ˆ"><span class="toc-text">Category - èƒ½åšä»€ä¹ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#category-å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ å®ä¾‹å±æ€§ã€‚"><span class="toc-text">category å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ å®ä¾‹å±æ€§ã€‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#category-å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ ç±»å±æ€§ã€‚"><span class="toc-text">category å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ ç±»å±æ€§ã€‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#category-å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•ã€‚"><span class="toc-text">category å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•ã€‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#category-å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ åè®®ã€‚"><span class="toc-text">category å¯ä»¥ä¸ºå·²æœ‰ç±»æ·»åŠ åè®®ã€‚</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Category-å®è·µ"><span class="toc-text">Category - å®è·µ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#UIButton-å®ç°ç‚¹å‡»äº‹ä»¶å¯ä»¥â€œä¼ å‚â€ã€‚"><span class="toc-text">UIButton å®ç°ç‚¹å‡»äº‹ä»¶å¯ä»¥â€œä¼ å‚â€ã€‚</span></a></li></ol></li></ol></li></ol>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5 class="text-center">
                        <a href="/tags/">FEATURED TAGS</a>
                    </h5>
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#category"
                           title="category">category</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
            </div>
        </div>

    </div>
</article>





<!-- Footer -->
<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <br>
                <ul class="list-inline text-center">
                
                
                

                

                

                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Tsui YuenHong 2016
                    <br>
                    <span id="busuanzi_container_site_pv" style="font-size: 12px;">PV: <span id="busuanzi_value_site_pv"></span> Times</span>
                    <br>
                    Theme by <a href="https://haojen.github.io/">Haojen Ma</a>
                </p>

            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/blog.js"></script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://www.xurunkang.cn/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>

<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-83299030-1';
    var _gaDomain = 'xurunkang.cn';
    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>


<!-- Baidu Tongji -->


<!-- swiftype -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','null','2.0.0');
</script>

<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!--wechat title img-->
<img class="wechat-title-img" src="http://ocnnxadky.bkt.clouddn.com/16-8-29/48379139.jpg">
</body>

</html>
